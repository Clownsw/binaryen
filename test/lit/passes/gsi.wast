;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.
;; RUN: foreach %s %t wasm-opt --nominal --gsi -all -S -o - | filecheck %s

(module
  (type $struct (struct i32))

  (global $global1 (ref $struct) (struct.new $struct
    (i32.const 42)
  ))

  (global $global2 (ref $struct) (struct.new $struct
    (i32.const 1337)
  ))

  (func $test
    (drop
      (struct.get $struct 0
        (ref.null $struct
      )
    )
  )
)

